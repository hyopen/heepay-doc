## 本文阅读对象

```text
商户系统（在线购物、收银系统、智能收银系统或其他）对接汇收银聚合支付平台（简称汇收银）API方式，所涉及的技术架构师，研发工程师，测试工程师，系统运维工程师。
```

## 版本说明
- 2017.05.10 发布新建版本

## 支付模式
1. 扫码支付
 ```text
 扫码支付是商户根据汇收银支付协议生成支付二维码，用户使用微信或者支付宝等终端“扫一扫”完成支付的模式。该模式适用于PC网站支付、实体店订单支付、实体静态二维码、媒体广告支付等场景。
 ```

- APP支付
 ```text
APP支付又称移动端支付，是商户通过在移动端应用APP中集成开放SDK唤起微信、支付宝的支付模块完成支付的模式。
 ```

- 刷卡支付
 ```text
刷卡支付是用户展示微信、支付宝钱包内的“刷卡条码/二维码”给商户系统扫描后直接完成支付的模式。主要应用线下面对面收银的场景。
 ```

- 公众号支付
 ```text
公众号支付是用户在微信中打开商户的H5页面，商户在H5页面通过调用微信支付提供的JSAPI接口调起微信支付模块完成支付。
 ```

## 名词解释
1. 汇收银
```text
汇收银是由我方聚合多种支付方式，方便商户使用支付功能的集合。
平台入口：https://merch.heemoney.com/Account/Login
```

- 签名验证
```text
每个接口都规定了需要参与签名的参数和顺序，以及是否需要转换大小写等其他要求，商户本地计算签名值并作为参数提交，我方也会本地计算签名值并和商户传过来的签名值比对，如果相同则验证通过，否则不通过。商户接收我方的通知信息时的签名验证方式雷同。签名验证的目的是保证接口双方信息安全。
``` 

- 同步返回
```text
商户通过发送HTTP协议请求调用接口，我方处理完毕，立即跳转至商户提交的同步地址（return_url）并将订单处理结果数据返回至该地址，在有异步通知的前提下，通常，同步通知页面仅作为支付结果的信息展示，不做业务逻辑处理。
``` 

- 异步返回
```text
商户通过发送HTTP协议请求调用接口，我方校验通过后，往商户提交的异步通知地址（notify_url）发送最终的订单处理结果数据，商户按照文档规范验证签名，验证通过后进行后续的业务逻辑处理，并做好业务日志记录。在有同步通知的前提下，订单处理结果以异步通知为准。
``` 

- 应用ID（app_id）
```text
应用ID,由汇收银生成。
``` 

- 商户统一编号（mch_uid）
```text
由汇收银生成的商户编号。
``` 

- 密钥（key）
```text
对应账号随机生成的加密秘钥，MD5、SHA1、SHA256加密都需要用到加密密钥，由后台查询得到。
``` 

- 订单号
```text
生成订单的编号，最好保证几天内的唯一性，方便订单查询，我方校验当天订单号不能重复。
``` 

- 通道类型
```text
每种支付都有对应的支付类型编号，详情看参数规定。
``` 