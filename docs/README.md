## 本文阅读对象

```text
商户系统（在线购物平台、人工收银系统、自动化智能收银系统或其他）对接汇付宝支付平台API方式，所涉及的技术架构师，研发工程师，测试工程师，系统运维工程师。
```


## 支付模式
1. 网银支付
 ```text
 网银支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC网站支付、手机H5支付。
 ```

- 银联支付
 ```text
银联扫码是商户请求我方返回收银台页面，用户通过扫码进行支付；银联WAP支付是商户系统按请求参数我方返回银行的收银台，用户在银行收银台输入卡号,获取验证码,完成支付的模式。该模式适用于PC网站支付和手机WAP支付。
 ```

- 快捷支付
 ```text
快捷支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC网站支付、手机H5支付。
 ```

- 骏卡支付
 ```text
收银台：骏卡收银台支付是商户系统按请求参数我方返回收银台页面，用户在我方收银台完成支付的模式。该模式适用于PC扫码支付、手机H5支付。
api：骏卡api支付是商户页面收集卡号卡密等信息按请求参数把数据传给我们的模式。该模式适用于PC扫码支付、手机H5支付。
 ```

- 微信支付
 ```text
微信支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC扫码支付、手机H5支付和微信公众号支付。
 ```

- 支付宝支付
 ```text
支付宝支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC扫码支付、手机H5支付。
 ```

- 其他卡类支付
 ```text
其他卡类支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC网站支付、手机H5支付。其他卡类分为：手机充值卡（移动、联通、电信）和游戏点卡（盛大一卡通，网易一卡通，征途一卡通，完美一卡通，搜狐一卡通）。
 ```

- 支付宝支付
 ```text
支付宝支付是商户系统按请求参数我方返回收银台，用户在我方收银台完成支付的模式。该模式适用于PC扫码支付、手机H5支付。
 ```


## 名词解释
1. 汇付宝商户平台
```text
汇付宝商户平台是汇付宝相关的商户功能集合，包括订单管理、资金管理、结算管理等功能。
平台入口：https://www.heepay.com/Index.aspx
```

- 签名验证
```text
每个接口都规定了需要参与签名的参数和顺序，以及是否需要转换大小写等其他要求，商户本地计算签名值并作为参数提交，我方也会本地计算签名值并和商户传过来的签名值比对，如果相同则验证通过，否则不通过。商户接收我方的通知信息时的签名验证方式雷同。签名验证的目的是保证接口双方信息安全。
``` 

- 同步返回
```text
商户通过发送HTTP协议请求调用接口，我方处理完毕，立即跳转至商户提交的同步地址（return_url）并将订单处理结果数据返回至该地址，在有异步通知的前提下，通常，同步通知页面仅作为支付结果的信息展示，不做业务逻辑处理。
``` 

- 异步返回
```text
商户通过发送HTTP协议请求调用接口，我方校验通过后，往商户提交的异步通知地址（notify_url）发送最终的订单处理结果数据，商户按照文档规范验证签名，验证通过后进行后续的业务逻辑处理，并做好业务日志记录。在有同步通知的前提下，订单处理结果以异步通知为准。
``` 

- 商户号（agent_id）
```text
在汇付宝注册账号随机生成的7位数数字，一种唯一的账号标识，在汇付宝商户平台中首页的商户内码就是商户号。
``` 

- 密钥（key）
```text
对应账号随机生成的加密秘钥，MD5、AES、3DES加密都需要用到加密密钥，在汇付宝商户平台中产品服务-密钥查看中查询对应密钥。
``` 

- 订单号
```text
商户支付的订单号由商户自定义生成，要求商户订单号保持唯一性（建议根据当前系统时间加随机序列来生成订单号）。重新发起一笔支付要使用新订单号。
``` 

- 支付类型
```text
每种支付都有对应的支付类型编号，例如网银pay_type=20。
``` 

- 交易金额
```text
交易金额默认为人民币交易，接口中参数支付金额单位为【元】，参数值可以带两位小数。
``` 

- 货币类型
```text
货币类型的取值列表： CNY：人民币
``` 

- 时间
```text
标准北京时间，时区为东八区；如果商户的系统时间为非标准北京时间。参数值必须根据商户系统所在时区先换算成标准北京时间， 例如商户所在地为0时区的伦敦，当地时间为2014年11月11日0时0分0秒，换算成北京时间为2014年11月11日8时0分0秒。
``` 

- 时间戳
```text
标准北京时间，时区为东八区，自1970年1月1日0点0分0秒以来的毫秒数。注意：部分系统取到的值为毫秒级，需要转换成毫秒(13位数字)。
``` 




